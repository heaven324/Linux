리눅스 노트정리 제출
	- NCS_리눅스 노트정리_정성호.pdf (1월 2일까지)


리눅스 NCS 시험 (오픈북) (1월 4일 시험) --> OPEN book







■ case문
	"if 문과 유사한 문법인데 특정 쉘 스크립트를 실행할 수 있도록 도와주는 문법"

	예제 : * 준비해야할 스크립트 2가지
		1. 두 파일의 차이를 확인하는 diff.sh
		2. 파일을 검색하는 find_file.sh


문제 178. 문제 144번 코드를 가지고 아래의 쉘 스크립트를 작성하시오 !

	[orcl:~]$ vi diff.sh
	#!/bin/bash
	
	echo "    "
	echo -n "비교할 첫번째 파일명을 입력하세요 ~"
	read file1
	echo -n "비교할 두번째 파일명을 입력하세요 ~"
	read file2
	echo "    "
	diff $file1 $file2
	diff --brief $file1 $file2
	[orcl:~]$ sh diff.sh
	
	비교할 첫번째 파일명을 입력하세요 ~emp.txt
	비교할 두번째 파일명을 입력하세요 ~emp3.txt
	
	1c1
	<  7839 KING                 PRESIDENT                   0 81/11/17       5000          0         10
	---
	>  7839 SING                 PRESIDENT                   0 81/11/17       5000          0         10
	Files emp.txt and emp3.txt differ




	문제 76. (점심시간 문제) 파일을 검색하는 쉘 스크립트를 아래와 같이 생성하시오 !

	[orcl:~]$ vi find_file.sh
	
	#!/bin/bash
	
	echo "    "
	echo -n "현재 디렉토리 밑에 검색할 파일명을 입력하세요 ! "
	read file
	echo -n "depth는 어떻게 할까요? "
	read depth
	echo "    "
	dir=`pwd`
	find $dir -maxdepth $depth -name $file -print
	
	[orcl:~]$ sh find_file.sh
	
	현재 디렉토리 밑에 검색할 파일명을 입력하세요 ! emp.txt
	depth는 어떻게 할까요? 1
	
	./emp.txt



문제 179. 아래의 두개의 스크립트를 이용해서 case문으로 아래의 두개의 스크립트를 쉽게 실행할 수 있도록 
	  total.sh 스크립트를 생성하시오 !
		1. 두 파일의 차이를 확인하는 diff.sh
		2. 파일을 검색하는 find_file.sh

	[orcl:~]$ chmod ugo+rwx diff.sh
	[orcl:~]$ chmod ugo+rwx find_file.sh
	[orcl:~]$ vi total.sh
	#!/bin/bash
	
	echo "    "
	echo "1. 두파일의 차이를 확인하려면 1번을
	      2. 특정 파일을 검색하려면 2번을
	"
	echo -n "번호를 입력하세요 ~"
	read choice
	case $choice in
	    1)
	      /home/oracle/diff.sh ;;
	    2)
	      /home/oracle/find_file.sh ;;
	esac



문제 180. 겨울왕국 스크립트에서 elsa를 찾는 쉘 스크립트를 가져와서 아래의 스크립트로 완성하시오 !

	[orcl:~]$ vi find_word.sh
	#!/bin/bash
	
	echo -n "스크립트 이름을 입력하세요 !"
	read file
	echo -n "스크립트에서 찾을 단어를 입력하세요 !"
	read word
	grep -iow $word $file | wc -l
	
	[orcl:~]$ sh find_word.sh
	스크립트 이름을 입력하세요 !winter.txt
	스크립트에서 찾은 단어를 입력하세요 !elsa
	658



문제 181. 위에서 만든 find_word.sh를 total.sh에 3번으로 추가시키시오!

	[orcl:~]$ chmod ugo+rwx find_word.sh
	[orcl:~]$ vi total.sh
	#!/bin/bash
	
	echo "    "
	echo "1. 두파일의 차이를 확인하려면 1번을
	      2. 특정 파일을 검색하려면 2번을
	3. 찾고자 하는 단어의 갯수를 검색하려면 3번을
	"
	echo -n "번호를 입력하세요 ~"
	read choice
	case $choice in
	    1)
	      /home/oracle/diff.sh ;;
	    2)
	      /home/oracle/find_file.sh ;;
	    3)
	      /home/oracle/find_word.sh ;;
	esac


문제 182. scott으로 접속해서 csv파일을 생성하는 쉘 스크립트를 아래의 이름으로 생성하시오

$ sh make_scott_csv.sh

   테이블명을 입력하세요~ emp
   
emp.csv가 생성되게 하시오

[orcl:~]$ vi make_scott_csv.sh
#!/bin/bash
echo "★★★★★★★★★★★★"
echo -n "테이블명을 입력하세요 : "
read table
echo "★★★★★★★★★★★★"
echo " "
sqlplus hr/hr << EOF
set colsep ','
set pagesize 2000
set linesize 200
set sqlprompt ""
set feedback off
set echo off
set underline off

spool $table.csv

select * from $table;

spool off

EOF

sh clean.sh $table.csv



문제 183. scott과 hr로 자동으로 접속해서 csv를 만들 수 있더록 위의 스크립트를 이용해서 아래의 스크립트를 
	  생성하시오 !

	[orcl:~]$ vi make_csv.sh
	#!/bin/bash
	echo -n "유저명을 입력하세요 ~"
	read user
	echo -n "패스워드를 입력하세요 ~"
	read pass
	echo "★★★★★★★★★★★★"
	echo -n "테이블명을 입력하세요 : "
	read table
	echo "★★★★★★★★★★★★"
	echo " "
	sqlplus $user/$pass << EOF
	set colsep ','
	set pagesize 2000
	set linesize 200
	set sqlprompt ""
	set feedback off
	set echo off
	set underline off
	
	spool $table.csv
	
	select * from $table;
	
	spool off
	
	EOF
	
	sh clean.sh $table.csv


문제 184. make_csv.sh 를 total.sh 의 4번에 추가 시키시오 !
	
	1. 두파일의 차이를 확인하려면 1번을
	2. 특정 파일을 검색하려면 2번을
	3. 찾고자 하는 단어의 갯수를 검색하려면 3번을
	4. 오라클 데이터를 csv로 생성하려면 4번을


	[orcl:~]$ chmod ugo+rwx make_csv.sh
	[orcl:~]$ vi total.sh
	#!/bin/bash
	
	echo "    "
	echo "1. 두파일의 차이를 확인하려면 1번을
	2. 특정 파일을 검색하려면 2번을
	3. 찾고자하는 단어의 갯수를 검색하려면 3번을
	4. 오라클 데이터를 csv로 생성하려면 4번을
	"
	echo -n "번호를 입력하세요 ~"
	read choice
	case $choice in
	    1)
	      /home/oracle/diff.sh ;;
	    2)
	      /home/oracle/find_file.sh ;;
	    3)
	      /home/oracle/find_word.sh ;;
	    4)
	      /home/oracle/make_csv.sh ;;
	esac



문제 185. 위에서 생성한 emp.csv에서 이름이 scott인 사원의 이름과 월급을 출력하는 python코드를 작성하시오 !

	[orcl:~]$ vi find_ename.py
	import csv
	
	a = raw_input("input ename : ").upper()
	file = open("/home/oracle/emp.csv")
	emp_csv = csv.reader(file)
	for i in emp_csv:
	    if a == i[1].strip():
	        print i[1], i[5]
	
	[orcl:~]$ python find_ename.py
	input ename : scott
	SCOTT            3000



문제 186. (점심시간 문제) 문제 185번 아래의 파이썬 실행문장을 total.sh의 5번에 추가하시오 !

	[orcl:~]$ chmod ugo+rwx find_ename.py
	[orcl:~]$ vi total.sh
	#!/bin/bash
	
	echo "    "
	echo "1. 두파일의 차이를 확인하려면 1번을
	2. 특정 파일을 검색하려면 2번을
	3. 찾고자하는 단어의 갯수를 검색하려면 3번을
	4. 오라클 데이터를 csv로 생성하려면 4번을
	5. emp.csv에서 이름과 월급을 검색하려면 5번을
	"
	echo -n "번호를 입력하세요 ~"
	read choice
	case $choice in
	    1)
	      /home/oracle/diff.sh ;;
	    2)
	      /home/oracle/find_file.sh ;;
	    3)
	      /home/oracle/find_word.sh ;;
	    4)
	      /home/oracle/make_csv.sh ;;
	    5)
	      python /home/oracle/find_ename.py ;;
	esac
	
	[orcl:~]$ sh total.sh
	
	1. 두파일의 차이를 확인하려면 1번을
	2. 특정 파일을 검색하려면 2번을
	3. 찾고자하는 단어의 갯수를 검색하려면 3번을
	4. 오라클 데이터를 csv로 생성하려면 4번을
	5. emp.csv에서 이름과 월급을 검색하려면 5번을
	
	번호를 입력하세요 ~5
	input ename : scott
	SCOTT            3000









■ 유저 생성 및 관리

	* 유저 생성 및 관리 명령어
		1. useradd : 유저 생성
		2. usermod : 유저 수정
		3. userdel : 유저 삭제
		4. passwd  : 패스워드 변경
		5. groupadd : 그룹생성
		6. groupmod : 그룹수정
		7. groupdel : 그룹 삭제
		8. su       : 유저 변경

	* root유저로 접속한다.
		[orcl:~]$ su -
		Password: oracle
		[root@edydr1p0 ~]# whoami
		root
		[root@edydr1p0 ~]# id
		uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel)




★ useradd명령어
	"유저를 생성하는 명령어"

	예제 : # useradd 유저명


문제 187. oracle2 라는 유저를 생성하시오 !

	[root@edydr1p0 ~]# useradd oracle2

	[root@edydr1p0 ~]# cat /etc/passwd
	root:x:0:0:root:/root:/bin/bash
	bin:x:1:1:bin:/bin:/sbin/nologin
	daemon:x:2:2:daemon:/sbin:/sbin/nologin
	adm:x:3:4:adm:/var/adm:/sbin/nologin
	lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
	sync:x:5:0:sync:/sbin:/bin/sync
	shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
	halt:x:7:0:halt:/sbin:/sbin/halt
	mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
	news:x:9:13:news:/etc/news:
	uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin
	operator:x:11:0:operator:/root:/sbin/nologin
	games:x:12:100:games:/usr/games:/sbin/nologin
	gopher:x:13:30:gopher:/var/gopher:/sbin/nologin
	ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
	nobody:x:99:99:Nobody:/:/sbin/nologin
	nscd:x:28:28:NSCD Daemon:/:/sbin/nologin
	vcsa:x:69:69:virtual console memory owner:/dev:/sbin/nologin
	rpc:x:32:32:Portmapper RPC user:/:/sbin/nologin
	mailnull:x:47:47::/var/spool/mqueue:/sbin/nologin
	smmsp:x:51:51::/var/spool/mqueue:/sbin/nologin
	oprofile:x:16:16:Special user account to be used by OProfile:/home/oprofile:/sbin/nologin
	pcap:x:77:77::/var/arpwatch:/sbin/nologin
	ntp:x:38:38::/etc/ntp:/sbin/nologin
	dbus:x:81:81:System message bus:/:/sbin/nologin
	avahi:x:70:70:Avahi daemon:/:/sbin/nologin
	sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
	rpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologin
	nfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologin
	haldaemon:x:68:68:HAL daemon:/:/sbin/nologin
	avahi-autoipd:x:100:103:avahi-autoipd:/var/lib/avahi-autoipd:/sbin/nologin
	xfs:x:43:43:X Font Server:/etc/X11/fs:/sbin/nologin
	gdm:x:42:42::/var/gdm:/sbin/nologin
	sabayon:x:86:86:Sabayon user:/home/sabayon:/sbin/nologin
	vboxadd:x:101:1::/var/run/vboxadd:/bin/false
	oracle:x:500:504::/home/oracle:/bin/bash
	grid:x:501:504::/home/grid:/bin/bash
	oracle2:x:502:510::/home/oracle2:/bin/bash
	oracle2	:x:	502:	510:	:/home/oracle2	:/bin/bash
	  ↑    ↑	↑	↑	     ↑		   ↑
	유저명 패스워드 유저id  그룹id   홈디렉토리   로그인 기본쉘



★ passwd 명령어
	"사용자의 비밀번호를 지정하거나 변경하는 명령어"

	사용문법 : # passwd 유저명

		[root@edydr1p0 ~]# passwd oracle2
		Changing password for user oracle2.
		New UNIX password: oracle
		BAD PASSWORD: it is based on a dictionary word
		Retype new UNIX password: oracle
		passwd: all authentication tokens updated successfully.

		[orcl:~]$ su - oracle2
		Password: oracle


문제 188. oracle2 접속한 그 홈디렉토리에서 aaa라는 폴더를 만드시오 !

	[oracle2@edydr1p0 ~]$ mkdir aaa
	[oracle2@edydr1p0 ~]$ ls
	aaa


문제 189. 리눅스 시스템의 사용자들과 그 사용자들의 패스워드를 조회하시오 !

	[oracle2@edydr1p0 ~]$ su -
	Password: oracle
	[root@edydr1p0 ~]# cat /etc/shadow
	root:$1$4FO1uWcs$YZQbV6x2xdOulzCWdYvCx.:15606:0:99999:7:::
	bin:*:15606:0:99999:7:::
	daemon:*:15606:0:99999:7:::
	adm:*:15606:0:99999:7:::
	lp:*:15606:0:99999:7:::
	sync:*:15606:0:99999:7:::
	shutdown:*:15606:0:99999:7:::
	halt:*:15606:0:99999:7:::
	mail:*:15606:0:99999:7:::
	news:*:15606:0:99999:7:::
	uucp:*:15606:0:99999:7:::
	operator:*:15606:0:99999:7:::
	games:*:15606:0:99999:7:::
	gopher:*:15606:0:99999:7:::
	ftp:*:15606:0:99999:7:::
	nobody:*:15606:0:99999:7:::
	nscd:!!:15606:0:99999:7:::
	vcsa:!!:15606:0:99999:7:::
	rpc:!!:15606:0:99999:7:::
	mailnull:!!:15606:0:99999:7:::
	smmsp:!!:15606:0:99999:7:::
	oprofile:!!:15606:0:99999:7:::
	pcap:!!:15606:0:99999:7:::
	ntp:!!:15606:0:99999:7:::
	dbus:!!:15606:0:99999:7:::
	avahi:!!:15606:0:99999:7:::
	sshd:!!:15606:0:99999:7:::
	rpcuser:!!:15606:0:99999:7:::
	nfsnobody:!!:15606:0:99999:7:::
	haldaemon:!!:15606:0:99999:7:::
	avahi-autoipd:!!:15606:0:99999:7:::
	xfs:!!:15606:0:99999:7:::
	gdm:!!:15606:0:99999:7:::
	sabayon:!!:15606:0:99999:7:::
	vboxadd:!!:15606::::::
	oracle:$1$vo/QDy68$Jdjx8NAYgCM6hbMGW/TPv1:15606:0:99999:7:::
	grid:$1$n.P.1Cs1$egWWhThly3ZoO0DJSddG0/:15606:0:99999:7:::
	oracle2:$1$Fbpy10VB$.nfaMRCE2JDZ4eIbws0V1.:17891:0:99999:7:::



문제 190. oralce3이라는 유저를 생성하고 oracle3으로 접속을하면 자동으로 /home/oracle3밑에 emp.txt 와 dept.txt
	  와 winter.txt가 생성되어있게 하시오 !

	[root@edydr1p0 ~]# cat /etc/default/useradd
	# useradd defaults file
	GROUP=100
	HOME=/home
	INACTIVE=-1
	EXPIRE=
	SHELL=/bin/bash
	SKEL=/etc/skel		<---- 이 위치에 특정 파일을 가져다 놓으면 유저가 생성될 때마다 자동으로 그 
	CREATE_MAIL_SPOOL=yes	      유저의 홈디렉토리에 특정파일이 생성이 된다.

	[root@edydr1p0 ~]# cp /home/oracle/*.txt /etc/skel/
	[root@edydr1p0 ~]# useradd oracle3
	[root@edydr1p0 ~]# passwd oracle3
	Changing password for user oracle3.
	New UNIX password: oracle
	BAD PASSWORD: it is based on a dictionary word
	Retype new UNIX password: oracle
	passwd: all authentication tokens updated successfully.
	[root@edydr1p0 ~]# su - oracle3
	[oracle3@edydr1p0 ~]$ ls
	10.txt       emp16.txt  emp29.txt  emp41.txt   emp53.txt  emp66.txt  emp79.txt  emp91.txt  
	20.txt       emp17.txt  emp2.txt   emp42.txt   emp54.txt  emp67.txt  emp7.txt   emp92.txt  
	30.txt       emp18.txt  emp30.txt  emp43.txt   emp55.txt  emp68.txt  emp80.txt  emp93.txt  
	ANALYST.txt  emp19.txt  emp31.txt  emp44.txt   emp56.txt  emp69.txt  emp81.txt  emp94.txt  
	b.txt        emp1.txt   emp32.txt  emp45.txt   emp57.txt  emp6.txt   emp82.txt  emp95.txt  
	CLERK.txt    emp20.txt  emp33.txt  emp46.txt   emp58.txt  emp70.txt  emp83.txt  emp96.txt  
	dept.txt     emp21.txt  emp34.txt  emp47.txt   emp59.txt  emp71.txt  emp84.txt  emp97.txt  
	emp100.txt   emp22.txt  emp35.txt  emp48.txt   emp5.txt   emp72.txt  emp85.txt  emp98.txt  
	emp10.txt    emp23.txt  emp36.txt  emp49.txt   emp60.txt  emp73.txt  emp86.txt  emp99.txt  
	emp11.txt    emp24.txt  emp37.txt  emp4.txt    emp61.txt  emp74.txt  emp87.txt  emp9.txt   
	emp12.txt    emp25.txt  emp38.txt  emp500.txt  emp62.txt  emp75.txt  emp88.txt  emp.txt
	emp13.txt    emp26.txt  emp39.txt  emp50.txt   emp63.txt  emp76.txt  emp89.txt  hhh2.txt
	emp14.txt    emp27.txt  emp3.txt   emp51.txt   emp64.txt  emp77.txt  emp8.txt   hhh3.txt
	emp15.txt    emp28.txt  emp40.txt  emp52.txt   emp65.txt  emp78.txt  emp90.txt  hhh.txt




★ usermod 명령어
	"유저 계정의 정보를 변경하는 명령어" 

	* 사용 문법 : # usermod [옵션] 유저명

	* 옵션 : -d : 사용자의 홈 디렉토리를 지정하는 옵션


문제 191. oracle7이라는 유저를 생성하시오 !

	[root@edydr1p0 ~]# useradd oracle7

	[root@edydr1p0 ~]# passwd oracle7
	Changing password for user oracle7.
	New UNIX password: oracle
	BAD PASSWORD: it is based on a dictionary word
	Retype new UNIX password: oracle
	passwd: all authentication tokens updated successfully.
	
	[root@edydr1p0 ~]# su - oracle7
	[oracle7@edydr1p0 ~]$ pwd
	/home/oracle7



문제 192. oracle7의 홈디렉토리를 /home/oracle777으로 변경하시오 !

	[oracle7@edydr1p0 ~]$ su -
	Password: oracle
	[root@edydr1p0 ~]# mkdir -p /home/oracle777
	[root@edydr1p0 ~]# chown -R oracle7:oinstall /home/oracle777	<- 소유자 변경
	[root@edydr1p0 ~]# cat /etc/passwd
			:
			:
	oracle7:x:504:512::/home/oracle7:/bin/bash
	
	[root@edydr1p0 ~]# usermod -d /home/oracle777 oracle7
	
	[root@edydr1p0 ~]# su - oracle7
	-bash-3.2$ pwd
	/home/oracle777



문제 193. oracle7 유저도 oracle2유저처럼 접속했을 때에 리눅스 화면이 아래와 같게 하시오 !

	[root@edydr1p0 ~]# cp /home/oracle2/.bash_profile /home/oracle777/	<--- 유저의 환경설정 파일
	[root@edydr1p0 ~]# cp /home/oracle2/.bashrc /home/oracle777/
	[root@edydr1p0 ~]# su - oracle7
	[oracle7@edydr1p0 ~]$


문제 194. oracle7으로 접속할때 마다 아래의 메세지가 출력되게 하시오 !

	저한테 왜 그러셨어요

	[oracle7@edydr1p0 ~]$ vi .bash_profile
	# .bash_profile
	
	# Get the aliases and functions
	if [ -f ~/.bashrc ]; then
	        . ~/.bashrc
	fi
	
	# User specific environment and startup programs
	
	PATH=$PATH:$HOME/bin
	
	export PATH
	
	echo "저한테 왜그러셨어요"




★ userdel 명령어
	"유저 삭제하는 명령어"

	예제 : # userdel oracle2


문제 195. /home/oracle2 디렉토리를 삭제하시오 !

[root@edydr1p0 ~]# rm -rf /home/oracle2



문제 196. oracle7 유저를 삭제하고 oracle7의 홈 디렉토리도 삭제하시오 !(/home/oracle777)

	[root@edydr1p0 home]# userdel oracle7
	[root@edydr1p0 home]# rm -rf /home/oracle777
	[root@edydr1p0 home]# rm -rf /home/oracle7




★ groupadd 명령어

	"그룹을 생성하는 명령어"

	* 사용문법 : # groupadd -g 그룹번호 그룹명

	예제 : 
		[root@edydr1p0 home]# groupadd -g 516 project1
		[root@edydr1p0 home]# cat /etc/group
			:
			:
		project1:x:516:



★ groupmod 명령어
	"그룹을 변경하는 명령어 (group 이름, 번호를 변경)

	* 사용문법 : 
			[root@edydr1p0 home]# groupmod -n project2 project1
			[root@edydr1p0 home]# cat /etc/group
				:
				:
			project2:x:516:



★ gpasswd 명령어
	"특정 그룹에 유저를 추가/제거하는 명령어"

	* 사용문법 : # gpasswd [옵션] 유저명 그룹명

	* 옵션 : -a : 특정 그룹에 새로운 멤버 추가
		 -d : 특정 그룹에 기존 멤버 삭제

	* 예제 :
		[root@edydr1p0 home]# useradd oracle9
		[root@edydr1p0 home]# passwd oracle9
		Changing password for user oracle9.
		New UNIX password: oralce
		BAD PASSWORD: it is based on a dictionary word
		Retype new UNIX password: oracle
		passwd: all authentication tokens updated successfully.
		
		[root@edydr1p0 ~]# gpasswd -a oracle9 oinstall
						↑	 ↑
					      유저명   그룹명
		Adding user oracle9 to group oinstall
		[root@edydr1p0 ~]# cat /etc/group
			:
			:
		oinstall:x:504:oracle9
			:
			:
		oracle9:x:517:



문제 197. oracle9를 oinstall그룹에서 제거하시오 !

	[root@edydr1p0 ~]# gpasswd -d oracle9 oinstall
	Removing user oracle9 from group oinstall
	[root@edydr1p0 ~]# cat /etc/group
		:
		:
	oinstall:x:504:










■ 리눅스 설치

	" 리눅스 ncs 시험문제 리눅스 설치 완료 화면을 캡쳐하는게 1번 문제이므로 지금 캡쳐해놓으세요 !"

	* 설치순서
		1. 오라클 리눅스 설치 ( service network restart )
		2. centos 설치
		3. 우분투 설치


문제 198. (오늘의 마지막 문제) centos 리눅스를 설치하고 putty로 접속하시오 !















